<!DOCTYPE html>
<html>
  <head>
	<script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
  </head>
  <body>
	<div id="config" style="display: none">
	  <div id="abi"></div>
	  <div id="address"></div>
	  <div id="provider"></div>
	</div>
	<div id="json"></div>
	<div id="account"></div>
	<button id="write">write</button>
	<script>
	  ( function config() {
		  _0 = new Config
		  ; _0.div.abi.innerHTML += JSON
			  .stringify(
				  _0.abi
			  )
		  ; _0.div.address.innerHTML += JSON
			  .stringify(
				  _0.address
			  )
		  ;
		  ; _0.div.provider.innerHTML += JSON
			  .stringify(
				  _0.provider
			  )
		  ;
		  function Config() {
			  this.abi = [
				  {
					  "inputs": [],
					  "stateMutability": "nonpayable",
					  "type": "constructor"
				  },
				  {
					  "inputs": [],
					  "name": "KeyValueNotBijective",
					  "type": "error"
				  },
				  {
					  "inputs": [],
					  "name": "NewKeysOnly",
					  "type": "error"
				  },
				  {
					  "inputs": [],
					  "name": "NoChange",
					  "type": "error"
				  },
				  {
					  "inputs": [],
					  "name": "NoKey",
					  "type": "error"
				  },
				  {
					  "inputs": [],
					  "name": "NoValue",
					  "type": "error"
				  },
				  {
					  "inputs": [],
					  "name": "NotAdmin",
					  "type": "error"
				  },
				  {
					  "inputs": [],
					  "name": "JSON",
					  "outputs": [
						  {
							  "internalType": "string",
							  "name": "",
							  "type": "string"
						  }
					  ],
					  "stateMutability": "view",
					  "type": "function"
				  },
				  {
					  "inputs": [
						  {
							  "internalType": "string[]",
							  "name": "key",
							  "type": "string[]"
						  },
						  {
							  "internalType": "string[]",
							  "name": "value",
							  "type": "string[]"
						  },
						  {
							  "internalType": "bool",
							  "name": "newKeysOnly",
							  "type": "bool"
						  }
					  ],
					  "name": "KeyValue",
					  "outputs": [],
					  "stateMutability": "nonpayable",
					  "type": "function"
				  },
				  {
					  "inputs": [
						  {
							  "internalType": "string",
							  "name": "key",
							  "type": "string"
						  }
					  ],
					  "name": "LatestVersion",
					  "outputs": [
						  {
							  "internalType": "uint256",
							  "name": "",
							  "type": "uint256"
						  }
					  ],
					  "stateMutability": "view",
					  "type": "function"
				  },
				  {
					  "inputs": [],
					  "name": "TotalKeys",
					  "outputs": [
						  {
							  "internalType": "uint256",
							  "name": "",
							  "type": "uint256"
						  }
					  ],
					  "stateMutability": "view",
					  "type": "function"
				  },
				  {
					  "inputs": [
						  {
							  "internalType": "string",
							  "name": "key",
							  "type": "string"
						  },
						  {
							  "internalType": "uint256",
							  "name": "version",
							  "type": "uint256"
						  }
					  ],
					  "name": "Value",
					  "outputs": [
						  {
							  "internalType": "string",
							  "name": "",
							  "type": "string"
						  }
					  ],
					  "stateMutability": "view",
					  "type": "function"
				  }
			  ]
			  ; this.address = '0x0F2c3af6B686d9a8'
				  + 'e67b17FD3888D48df57dFBD2'
			  ; this.div = {}
			  ; this.div.abi = document
				  .getElementById( 'abi' )
			  ; this.div.address = document
				  .getElementById( 'address' )
			  ; this.div.provider = document
				  .getElementById( 'provider' )
			  ; this.provider = 'https://opt-sepol'
				  + 'ia.g.alchemy.com/v2/J_KqEhpaA'
				  + 'sSMeauNVhMRjZovMqTBywB9'
			  ;
		  }
	  } )()
	</script>
	<script>
	  ( function read() {
		  const _0 = new Read
		  ; _0.contract = new _0.web3.eth
			  .Contract( _0.abi, _0.address )
		  ; _0.contract.methods.JSON().call()
			  .then( ( $0 ) => {
				  _0.div.innerHTML += JSON
					  .stringify(
						  JSON.parse( $0 )
						  , null
						  , 4
					  )
			  } )
		  ;
		  function Read() {
			  this.abi = JSON.parse(
				  document.getElementById(
					  'abi'
				  ).innerHTML
			  )
			  ; this.address = JSON.parse(
				  document.getElementById(
						  'address'
					  ).innerHTML
			  )
			  ; this.div = document
				  .getElementById( 'json' )
			  ; this.json = null
			  ; this.web3 = new Web3(
				  new Web3.providers.HttpProvider(
					  JSON.parse(
						  document.getElementById(
							  'provider'
						  ).innerHTML
					  )
				  )
			  )
			  ;
		  }
	  } )()
	</script>
	<script>
	  ( function Write() {
		  async function getAccount() {
			  _0.account = await ethereum
				  .request( {
					  method: 'eth_requestAccounts'
				  } )[ 0 ]
			  ; _0.div.innerHTML += account
			  ;
		  } if (
			  typeof window.ethereum.isMetaMask
				  !== 'undefined'
		  ) {
			  console.log( 'MetaMask installed!' )
			  ;
		  }
		  const _0 = new Write
		  ; _0.button.addEventListener(
			  'click', () => {
				  ; ethereum.request( {
					  method: 'eth_requestAccounts'
				  } )
				  ;
			  }
		  )
		  ;
		  function Write() {
			  this.account = null
			  ; this.button = document
				  .getElementById(
					  'write'
				  )
			  ; this.div = document
				  .getElementById( 'account' )
			  ;
		  }
	  } )()
	</script>
  </body>
</html>
